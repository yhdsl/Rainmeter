
本插件用于控制笔记本屏幕和台式机屏幕背光亮度

本插件处于长期测试阶段，可能无法控制你的电脑，没耐心看完以下说明的对使用效果概不负责

功能：

控制屏幕并返回 0-100 的亮度值，若失败，则返回亮度值 -1 

笔记本屏幕的控制方式类似移动中心（快捷键 Win+X）的显示器亮度调节，支持从XP SP1（未测试）到 Win7系统（根据驱动设置部分Win8可用）
笔记本的实际亮度等级由驱动决定，且只能设定到固定的亮度等级

台式机屏幕要求支持 DDC/CI 才能控制，貌似从 Vista之后的大部分新屏幕都支持，支持Vista之后系统

====================================================================

Measure下选项:

Monitor=		(可选)
	-1	:默认值，自动检测，装载时尝试控制笔记本屏幕，如果不成功转而控制台式机屏幕
	0	:强制笔记本控制外置屏幕，台式机设置此项可在初始化时略过控制笔记本屏幕的尝试
	1	:控制第一个屏幕
	2	:控制第二个屏幕
	3	:控制第三个屏幕

台式机最多同时控制3屏，或笔记本控制本身屏幕及两个外置显示屏，屏幕序号以 Showlog=1 时的日志内容为准


Policy=		(可选，可列表，不区分大小写)
	Forcelevel,	:（笔记本）强制返回Divide规定的亮度等级或设定的亮度，取最接近实际真实亮度值
	Bothpower,	:（笔记本）同时控制交直流电源时的亮度，测试未成功，选项暂时保留
	Removable,	:（笔记本控制外置显示屏）当电脑上有显示器热插拔时自动检测并在3s后允许重载入，重载入时间取决于Update或Bang

比如 SetBacklight 50，LaptopPolicy=0 可能会返回真实亮度 52, Policy=Forcelevel 会设置亮度到最接近的 52, 随后返回亮度值50 


Divide=		(默认: 10)
	可选值: 从 1 到 100 的数字
	
决定执行 "Backlight+" 或 "Backlight-" 时的幅度，比如设为20时，可选亮度等级为 0，5，10，15...
笔记本屏幕只有启用 LaptopPolicy=1 此项才生效

Showlog=	(默认：0)
	1	:初始化时在日志显示屏幕信息，成功控制笔记本LCD则显示真实可选亮度等级，否则显示显示器列表，日常使用没必要开启
	2	:在日志显示中文提示信息

====================================================================

用法:

[MeasureBacklight]
Measure=Plugin
Plugin=Backlight
;Monitor=-1
;Divide=10
;Showlog=1

插件编写为Bang之后的一个 [!Update] 或 [!UpdateMeasure MeasureBacklight] 更新不占用资源，每次Bang之前会获取一次亮度值，若不显示数值可以设定 Pause=1 等，不影响Bang操作


Bangs命令:

!CommandMeasure "MeasureBacklight" "SetBacklight x"
把亮度设为x%

!CommandMeasure "MeasureBacklight" "ChangeBacklight x"
按百分比加减亮度

!CommandMeasure "MeasureBacklight" "Backlight+"
下一个亮度等级，即更亮

!CommandMeasure "MeasureBacklight" "Backlight-"
上一个亮度等级，即更暗

====================================================================


台式机部分只用笔记本插上自家的戴尔显示器控制过，根据显示器不同可能要在显示器手动启用 DDC/CI 功能
已知BUG : 笔记本控制台式机显示屏，热插拔连接线后会导致雨滴崩溃，此情况推荐启用Removable，但仍不保证绝对安全

Policy=Bothpower，同时控制交直流电源时的亮度，否则根据当前供电设置当前亮度。笔记本用户可能会发现插上电源和拔下电源屏幕亮度会变化，区别就是这个，但在我自家电脑上没成功，无论是否设置此项只更改当前供电亮度，选项暂时保留，有成功的可以反馈一下